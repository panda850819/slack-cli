# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

Slack CLI is a Python command-line tool for searching and browsing Slack workspaces from the terminal. It provides message search, channel exploration, and DM history viewing.

## Commands

```bash
# Install in development mode
uv pip install -e .

# Run CLI (requires SLACK_CLI_TOKEN env var)
slack search "keyword"
slack search "keyword" --channel general --limit 20
slack channel list --private --archived
slack channel history <channel> --limit 50
slack channel info <channel>
slack dm list
slack dm history <user> --limit 100
```

No test suite currently exists. If adding tests, use pytest.

## Architecture

Three-layer design:

```
Commands (commands/*.py) â†’ SlackClient (client.py) â†’ Rich Formatters (formatters.py)
```

- **Commands**: Typer CLI handlers that parse arguments and orchestrate calls
- **Client**: Slack API wrapper with user/channel caching and ID resolution (accepts both names like `#general` and IDs)
- **Formatters**: Rich-based terminal output (tables, panels)

Key dataclasses in `client.py`: `Message`, `Channel`, `User`, `Conversation`

## Authentication

Requires `SLACK_CLI_TOKEN` environment variable:
- User Token (xoxp-): Full access including DMs and private channels
- Bot Token (xoxb-): Limited to channels bot is invited to

## OpenSpec

This project uses OpenSpec for change proposals. See `/openspec/AGENTS.md` for proposal format when making architectural changes.


<claude-mem-context>
# Recent Activity

<!-- This section is auto-generated by claude-mem. Edit content outside the tags. -->

### Jan 29, 2026

| ID | Time | T | Title | Read |
|----|------|---|-------|------|
| #9090 | 11:08 PM | ðŸ”„ | CLAUDE.md Condensed to Essential Information | ~605 |
| #9086 | 11:07 PM | âœ… | CLAUDE.md Project Documentation Created | ~592 |
| #9085 | " | ðŸ”µ | Environment Configuration Template | ~273 |
| #9074 | 11:05 PM | ðŸ”µ | Slack CLI Source Code Structure | ~299 |
| #9072 | " | ðŸ”µ | OpenSpec Agent Workflow Instructions | ~362 |
| #9070 | " | ðŸ”µ | Slack CLI Features and Token Configuration | ~409 |
| #9068 | " | ðŸ”µ | Slack CLI Project Configuration and Dependencies | ~264 |
</claude-mem-context>